(this.webpackJsonptablify=this.webpackJsonptablify||[]).push([[0],{29:function(e,t,n){},54:function(e,t){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(23),c=n.n(o),s=(n(29),n(3)),l=n(24),i=n.n(l),d=n(8);n(73);var h=n(0),b="<style>\ntr:nth-child(odd) {\n    background: #f7f7ff;\n}\n</style>\n<table>\n{%- if headers %}\n<thead>\n    <tr>\n        {%- for e in headers %}\n        <th>{{e}}</th>\n        {%- endfor %}\n    </tr>\n</thead>\n{%- endif %}\n<tbody>\n    {%- for row in rows %}\n    <tr>\n        {%- for e in row %}\n        <td>{{e}}</td>\n        {%- endfor %}\n    </tr>\n    {%- endfor %}\n</tbody>\n</table>";var u=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(!1),l=Object(s.a)(c,2),u=l[0],f=l[1],j=Object(a.useState)(""),p=Object(s.a)(j,2),O=p[0],m=p[1],x=Object(a.useState)(b),v=Object(s.a)(x,2),w=v[0],y=v[1],g=Object(a.useState)(""),S=Object(s.a)(g,2),C=S[0],k=S[1];return Object(a.useEffect)((function(){var e=new URL(window.location.href).searchParams;if(e.has("t")){console.log("Set template from the URL");var t=Object(d.decompressFromEncodedURIComponent)(e.get("t"));null!==t&&y(b=t)}}),[]),Object(a.useEffect)((function(){try{n.e(3).then(n.bind(null,79)).then((function(e){o(e),console.log("wasm has been loaded successfully.")}))}catch(e){console.error("Unexpected error in loading wasm. [Message: ".concat(e.message,"]"))}}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{children:Object(h.jsx)("h1",{children:"Tablify"})}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Template ",Object(h.jsx)("span",{className:"info tooltip","data-tooltip":"Set Jinja2/Django template"})]}),Object(h.jsx)("textarea",{className:"code",rows:5,value:w,onChange:function(e){if(y(e.target.value),e.target.value.length>0){var t=Object(d.compressToEncodedURIComponent)(e.target.value),n=window.location.pathname.split("/").pop()+"?t="+t;window.history.replaceState({},"",n)}else window.history.replaceState({},"",window.location.pathname)},name:"template"}),Object(h.jsxs)("h2",{children:["Tabular data ",Object(h.jsx)("span",{className:"info tooltip","data-tooltip":"Choose tabular file (.csv or .xlsx)"})]}),Object(h.jsx)("input",{type:"file",accept:".xlsx,.csv",onChange:function(e){return function(e){if(console.log(e),e.length>0){var t=new FileReader;t.readAsArrayBuffer(e[0]),t.onload=function(){if(null!==r){var n=t.result;try{var a=r.render("<table>{%- if headers %}<thead><tr>{%- for e in headers %}<th>{{e}}</th>{%- endfor %}</tr></thead>{%- endif %}<tbody>{%- for row in rows %}<tr>{%- for e in row %}<td>{{e}}</td>{%- endfor %}</tr>{%- endfor %}</tbody></table>",new Uint8Array(n),e[0].name,u,!1);m(a);var o=r.render(w,new Uint8Array(n),e[0].name,u,!1);k(o)}catch(c){console.error(c),m('<p class="error">'+c+"</p>"),k("")}}}}}(e.target.files)}}),Object(h.jsx)("input",{type:"checkbox",id:"hasHeaders",onChange:function(e){return f(e.target.checked)},checked:u}),Object(h.jsx)("label",{htmlFor:"hasHeaders",children:"data has headers"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Input contents"}),i()(O)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Output"}),Object(h.jsx)("textarea",{className:"code",rows:5,id:"output",value:C,readOnly:!0}),Object(h.jsx)("button",{title:"Copy output to the clipboard",disabled:""===C,onClick:function(e){return t=C,void(navigator.clipboard&&navigator.clipboard.writeText(t));var t},children:"Copy"}),Object(h.jsx)("button",{title:"Save output as a file",disabled:""===C,onClick:function(e){return function(e,t){var n=new Blob([e],{type:"text/html"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=t,a.click(),a.remove()}(C,"table.html")},children:"Save"})]})]})};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(u,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.a2edfe0b.chunk.js.map